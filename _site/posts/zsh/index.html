<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta charset="utf-8">
  <title>
    
      zsh笔记 &ndash;
    
    Sean Zhang
  </title>

  <meta name="author" content="Sean Zhang" />
  <meta name="description" content="生活在未来，做有趣的事" />

  <link rel="alternate" type="application/rss+xml" href="/atom.xml" />

  <link rel="stylesheet" href="/css/base.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
   <link rel="stylesheet" href="/css/theme.css" type="text/css" />
  <link media="only screen and (max-device-width: 480px)" href="/css/iphone.css" type="text/css" rel="stylesheet" />
  <link media="only screen and (device-width: 768px)" href="/css/iphone.css" type="text/css" rel="stylesheet" />
  <link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz' rel='stylesheet' type='text/css'>
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="/js/application.js"></script>
</head>

<body>
  <section class="sidebar">
    <a href="/">
      <img src="http://www.gravatar.com/avatar/8b891913917d7dd55a01612d45e341f1.png?s=150" height="75" width="75" class="avatar" />
    </a>

    <section class="name">
      <a href="/">
        <span id="fname">Sean</span>
        <span id="lname">Zhang</span>
      </a>
    </section>

    <section class="meta">
      <a href="https://github.com/psytown" target="_blank"><img src="/images/github.png" /></a>
      <a href="http://weibo.com/psytown" target="_blank"><img src="/images/weibo.png"></a>
      <a href="/atom.xml"><img src="/images/rss.png" /></a>
    </section>

    <section class="sections">
      <ul>
        <li><a href="/about.html">about</a></li>
        <li><a href="/">posts</a></li>
      </ul>
    </section>
  </section>

  <section class="content">
  <h1>
    <a href="/posts/zsh">zsh笔记</a>
  </h1>

  <section class="byline">
    April 26, 2013
  </section>

  <h4>相关概念</h4>

<blockquote><p>怎样理解zsh？iterm和zsh的关系是什么？</p></blockquote>

<p>zsh，全称为Z-shell，是Shell（壳）的一种，在计算机科学的术语中，shell区别与核，是指“提供使用者使用界面”的软件（命令解析器），我们以前熟悉的MS-DOS就是命令行shell的一种，当然window实质上也是shell的一种，而随着图形化shell的普及，shell的含义渐渐只特指命令行的使用界面了。在OSX中，其默认的shell为bash，zsh是一种更为强大和适于个性配置的shell。</p>

<p>iterm2，我们不难观察到一个现象，就是我们一般在使用命令行界面时都会启动OSX的终端软件，iterm是系统终端软件的替代者，可以将其看作是命令行界面在图形化界面体系中的代理或展示管理工具，所以我们可以通过iterm进行不同的shell切换。
关于iterm2的<a href="http://www.yangzhiping.com/tech/iterm2.html">特色功能介绍</a></p>

<h4>安装</h4>

<p>按照老阳的<a href="http://www.yangzhiping.com/tech/mac-dev.html">安装笔记</a>，我们实际上做了这样几件事情：</p>

<p>下载.dotfiles：</p>

<blockquote><p>.dotfiles是为了繁复的新机配置而生的，当你在不同机器或新机上重新配置环境时，会发现这玩意忒有用了，一方面可以保存下自己的习惯用法和配置，另一方面可以使用别人优秀的dotfiles，看看高手是怎么进行配置的。老阳的做法是先下高手的东西，然后自己修改，适合入门后的自己折腾。</p></blockquote>

<p>Github上的<a href="https://github.com/search?q=dotfiles&amp;ref=cmdform">dotfiles</a></p>

<p>安装Oh-My-Zsh：</p>

<blockquote><p>Oh-My-Zsh就是一个zsh的配置包，可以配置出一些比较有趣的功能，比如命令行中的主题颜色，按键进行命令填充之类</p></blockquote>

<p>安装zsh：</p>

<blockquote><p>安装非常简单，只要我们已经安装了Homebrew可以通过命令轻松的安装zsh。</p></blockquote>

<pre><code>brew install zsh
</code></pre>

<p>配置：</p>

<blockquote><p>我们已经安装了zsh和相应的配置包，他们存在与不同的目录中，这个时候需要用到一个Linux常用的系统命令ln -s，来为其建立软连接</p></blockquote>

<pre><code>ln -s ~/.dotfiles/zsh ~/.zsh
ln -s ~/.dotfiles/zsh/zshrc ~/.zshrc
ln -s ~/.dotfiles/zsh/zshenv ~/.zshenv
ln -s ~/.dotfiles/zsh/zprofile ~/.zprofile
</code></pre>

<blockquote><p>那么什么是软连接，ln的命令又是怎么回事？</p>

<p>ln是link 是链接的意思，再其后加参数可代表建立链接的类型，比如-s，是标识软链接，我们可以将其理解为为某一个文件在另外一个位置建立一个同步的链接，通常不加参数时会将源文件copy到目标目录下，而软链接则不会拷贝目录，而只产生镜像，这样能够保证不占用重复的硬盘空间，又能够保持两者的同步。</p></blockquote>

<pre><code>对zsh设置默认
1、打开配置文件
subl /etc/shells
2、添加zsh路径
/usr/local/bin/zsh
3、保存后到命令行中执行默认命令
chsh -s /usr/local/bin/zsh
</code></pre>

<p>link<a href="http://www.linuxso.com/command/ln.html">命令解释</a></p>

<p>相关配置文件的下载和安装详见老阳笔记不再重述，配置应该根据不同人的习惯而进行设置，在你对此没有概念的时候，可以采取使用流行配置，使用高手配置的方法，来看是否顺手，并在此基础上进行修改。</p>

<h4>技巧1：如何进行别名快捷方式（aliases）的建立</h4>

<p>为什么要建立别名？建立别名可以在命令行界面快速的启动某种服务或开启某个目录，类似于我们在桌面上设置快捷方式，以方便我们更加有效率的工作。</p>

<p>进入zsh目录</p>

<pre><code>cd .dotfiles  #进入.dotfiles文件夹
cd .zsh       #进入zsh
subl .        #启动sublime text2对该文件夹文件进行编辑
</code></pre>

<p>打开aliases.zsh
我们可以看到类似这样的字样</p>

<pre><code>alias ga='git add'
alias gp='git push'
alias gl='git log'
</code></pre>

<p>现在的需求是建立一个快速进入某项目路径的别名，在其中添加</p>

<pre><code>alias 'snaapp=cd dev/github/sna.psyapp.com'
</code></pre>

<p>重启iterm后，在终端输入</p>

<pre><code>$ snaapp
</code></pre>

<p>则会自动跳转至所设置的目录了</p>

<h4>技巧2:如何应对zsh的“Command not found”问题</h4>

<p>在安装一些软件的过程中，经常会碰到明明已经安装好了，但是zsh显示找不到该命令，多半和路径有关，因为安装的方法各不相同，有可能软件安装在硬盘的不同文件夹内，而zsh会在配置文件中写好优先在一些文件地址内寻找，如果你安装的路径不在里面，zsh就无法识别了。</p>

<p>如何打开系统默认路径的配置文件：</p>

<pre><code>subl /etc/paths
</code></pre>

<p>一般修改后的次序如下，Homebrew的安装路径优先：</p>

<pre><code>/usr/local/bin
/usr/bin
/bin
/usr/sbin
/sbin
</code></pre>

<p>在一些安装到其他目录无法识别的软件命令，你可以将其添加在尾部，即可识别。</p>


  <!-- TODO: bio here -->
  <section class="meta">
  
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'psytown'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
</section>
  
 
  
</body>

</html>
